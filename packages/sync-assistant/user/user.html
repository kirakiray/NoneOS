<style>
  :host {
    display: block;
    padding: 16px;
  }

  .line {
    display: flex;
    align-items: center;
    padding: 6px 0;
    font-size: 12px;
    border-bottom: #eee solid 1px;
  }

  .line-key {
    font-size: 14px;
    font-weight: 14px;
    padding-right: 12px;
    font-weight: bold;
  }

  #log-container {
    padding: 4px;
    font-size: 12px;
    max-height: 60vh;
    overflow-y: auto;
  }

  .container {
    margin: 20px 10px;
    padding: 10px;
    border: #aaa solid 1px;
  }
</style>
<div>
  <div class="container" id="step-1">
    <h3>连接初级服务器</h3>
    <div class="line">
      <div class="line-key">User Name</div>
      <input type="text" name="userName" :disabled="isConnectWS" />
    </div>
    <div class="line">
      <div class="line-key">ID</div>
      <div id="user-id">0</div>
    </div>
    <div class="line">
      <div class="line-key">Server URL</div>
      <textarea
        name="server"
        cols="30"
        rows="10"
        :disabled="isConnectWS"
      ></textarea>
    </div>
    <div style="margin: 16px auto">
      <button @click="connectServer" :disabled="isConnectWS">Connect</button>
      <b style="color: red" :show="!isConnectWS">未连接</b>
      <b style="color: green" :show="isConnectWS">已连接</b>
    </div>
  </div>
</div>

<div
  temp:user-block
  style="padding: 10px; margin: 10px; border: #eee solid 1px"
>
  <div class="line">
    <div class="line-key">Name</div>
    <div>{{$data.userName}}</div>
  </div>
  <div class="line">
    <div class="line-key">ID</div>
    <div>{{$data.id}}</div>
  </div>
  <br />
  <button @click="$host.linkClient($data)">连接</button>
</div>

<div class="container" #if="step >=2 ">
  <h3>可以连接的用户</h3>
  <button @click="reloadUser">刷新</button>
  <br />
  <div fill:user-block="users" style="display: flex; flex-wrap: wrap"></div>
  <div :show="!users.length">空</div>
</div>

<div temp:chat-block>
  <div class="line">
    <div class="line-key">Opponent ID</div>
    <div>{{$data._connector.userId}}</div>
  </div>
  <input type="text" sync:value="$data.val" />
  <button @click="$host.sendMsg($data)">发送</button>
  <div fill:chat-block-line="$data.logs"></div>
</div>

<div temp:chat-block-line style="color: green">{{$data}}</div>

<div
  class="container"
  #if="linkedUsers.length"
  fill:chat-block="linkedUsers"
></div>
