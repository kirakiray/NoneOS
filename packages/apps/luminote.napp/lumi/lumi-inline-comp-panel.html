<template component>
  <style>
    :host {
      position: fixed;
      display: block;
      padding: 8px;
      border-radius: 4px;
      z-index: 2;
      left: 300px;
      top: 100px;
      background-color: var(--md-sys-color-on-normal);
      color: var(--md-sys-color-normal);
      box-shadow: var(--contained-shadow);
      transition: transform ease 0.2s, opacity ease 0.2s;
      opacity: 0;
      transform: translate(16px, 0);
    }

    :host([open]) {
      opacity: 1;
      transform: translate(0, 0);
    }
  </style>
  <div>lumi-inline-comp-panel</div>
  <script>
    export default async () => {
      return {
        tag: "lumi-inline-comp-panel",
        attrs: {
          open: null,
          _inlineCompTimer: null,
        },
        proto: {
          showPanel() {
            clearTimeout(this._inlineCompTimer);
            this.open = "1";
          },
          hidePanel() {
            this._inlineCompTimer = setTimeout(() => {
              this.open = null;
            }, 300);
          },
        },
        attached() {
          this.on("mouseenter", () => {
            clearTimeout(this._inlineCompTimer);
          });

          this.on("mouseleave", () => {
            this.hidePanel();
          });
        },
      };
    };
  </script>
</template>
