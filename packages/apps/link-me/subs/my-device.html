<template page>
  <l-m src="/packages/pui/list/list.html"></l-m>
  <style>
    :host {
      display: block;
    }

    .container {
      /* display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center; */
      padding: 16px;
      max-width: 800px;
      margin: 0 auto;
    }

    .root-item {
      color: var(--md-sys-color-primary);
      font-weight: bold;
    }
  </style>

  <div class="container">
    <p-list>
      <p-list-item radius collapse-childs="open" button="suffix">
        <div>
          <span class="root-item">其他设备</span>
          ({{devices.length}})
        </div>
        <i collapse-triangle slot="suffix"></i>

        <x-if :value="!devices.length">
          <div
            style="
              line-height: 80px;
              font-size: 12px;
              text-align: center;
              color: #7c7c7c;
            "
          >
            没有其他设备
          </div>
        </x-if>
        <x-else>
          <p-list slot="childs">
            <x-fill :value="devices" fill-key="name">
              <p-list-item button>{{$data.name}}</p-list-item>
            </x-fill>
          </p-list>
        </x-else>
      </p-list-item>
    </p-list>
  </div>
  <script>
    export default async ({ load }) => {
      return {
        data: {
          devices: [
            {
              name: "test 1",
            },
          ],
        },
        watch: {},
        proto: {},
      };
    };
  </script>
</template>
