<template page>
  <style>
    :host {
      display: block;
      padding: 16px;
    }
  </style>
  <p>
    本应用是专为 NoneOS 内部应用打造的管理工具，可实现穿透访问外部世界的功能。
  </p>
  <p>
    借助该应用，内部程序不仅能请求外部 API，还能通过代理访问各类外部 AI 接口。
  </p>
  <script>
    export default async ({ load }) => {
      async function getOllamaModels() {
        try {
          const response = await fetch("http://localhost:11434/api/tags");
          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          const data = await response.json();
          console.log("已下载的模型:", data.models);
          return data.models;
        } catch (error) {
          console.error("获取模型失败:", error);
          return [];
        }
      }

      // 调用函数
      getOllamaModels().then((models) => {
        console.log("Models:", models);
      });

      return {
        data: {
          val: "123",
        },
      };
    };
  </script>
</template>
