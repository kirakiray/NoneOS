/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/dfts-qrcode@1.1.0/src/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const t=[null,[[10,7,17,13],[1,1,1,1],[]],[[16,10,28,22],[1,1,1,1],[4,16]],[[26,15,22,18],[1,1,2,2],[4,20]],[[18,20,16,26],[2,1,4,2],[4,24]],[[24,26,22,18],[2,1,4,4],[4,28]],[[16,18,28,24],[4,2,4,4],[4,32]],[[18,20,26,18],[4,2,5,6],[4,20,36]],[[22,24,26,22],[4,2,6,6],[4,22,40]],[[22,30,24,20],[5,2,8,8],[4,24,44]],[[26,18,28,24],[5,4,8,8],[4,26,48]],[[30,20,24,28],[5,4,11,8],[4,28,52]],[[22,24,28,26],[8,4,11,10],[4,30,56]],[[22,26,22,24],[9,4,16,12],[4,32,60]],[[24,30,24,20],[9,4,16,16],[4,24,44,64]],[[24,22,24,30],[10,6,18,12],[4,24,46,68]],[[28,24,30,24],[10,6,16,17],[4,24,48,72]],[[28,28,28,28],[11,6,19,16],[4,28,52,76]],[[26,30,28,28],[13,6,21,18],[4,28,54,80]],[[26,28,26,26],[14,7,25,21],[4,28,56,84]],[[26,28,28,30],[16,8,25,20],[4,32,60,88]],[[26,28,30,28],[17,8,25,23],[4,26,48,70,92]],[[28,28,24,30],[17,9,34,23],[4,24,48,72,96]],[[28,30,30,30],[18,9,30,25],[4,28,52,76,100]],[[28,30,30,30],[20,10,32,27],[4,26,52,78,104]],[[28,26,30,30],[21,12,35,29],[4,30,56,82,108]],[[28,28,30,28],[23,12,37,34],[4,28,56,84,112]],[[28,30,30,30],[25,12,40,34],[4,32,60,88,116]],[[28,30,30,30],[26,13,42,35],[4,24,48,72,96,120]],[[28,30,30,30],[28,14,45,38],[4,28,52,76,100,124]],[[28,30,30,30],[29,15,48,40],[4,24,50,76,102,128]],[[28,30,30,30],[31,16,51,43],[4,28,54,80,106,132]],[[28,30,30,30],[33,17,54,45],[4,32,58,84,110,136]],[[28,30,30,30],[35,18,57,48],[4,28,56,84,112,140]],[[28,30,30,30],[37,19,60,51],[4,32,60,88,116,144]],[[28,30,30,30],[38,19,63,53],[4,28,52,76,100,124,148]],[[28,30,30,30],[40,20,66,56],[4,22,48,74,100,126,152]],[[28,30,30,30],[43,21,70,59],[4,26,52,78,104,130,156]],[[28,30,30,30],[45,22,74,62],[4,30,56,82,108,134,160]],[[28,30,30,30],[47,24,77,65],[4,24,52,80,108,136,164]],[[28,30,30,30],[49,25,81,68],[4,28,56,84,112,140,168]]],e={numeric:1,alphanumeric:2,octet:4},r=/^\d*$/,n=/^[A-Za-z0-9 $%*+\-./:_]*$/,o=/^[A-Z0-9 $%*+\-./:_]*$/,l={L:1,M:0,Q:3,H:2},s=[],i=[-1];for(let t=0,e=1;t<255;t++)s.push(e),i[e]=t,e=2*e^(e>=128?285:0);const c=[[]];for(let t=0;t<30;t++){const e=c[t],r=[];for(let n=0;n<=t;n++){const o=n<t?s[e[n]]:0,l=s[(t+(e[n-1]||0))%255];r.push(i[o^l])}c.push(r)}const u={};for(let t=0;t<45;t++)u["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".charAt(t)]=t;const a=[function(t,e){return(t+e)%2==0},function(t,e){return t%2==0},function(t,e){return e%3==0},function(t,e){return(t+e)%3==0},function(t,e){return((t/2|0)+(e/3|0))%2==0},function(t,e){return t*e%2+t*e%3==0},function(t,e){return(t*e%2+t*e%3)%2==0},function(t,e){return((t+e)%2+t*e%3)%2==0}],f=t=>t>6;function h(e,r){let n=-8&function(e){const r=t[e];let n=16*e*e+128*e+64;return f(e)&&(n-=36),r[2].length&&(n-=25*r[2].length*r[2].length-10*r[2].length-55),n}(e);const o=t[e];return n-=8*o[0][r]*o[1][r],n}function g(t,e){switch(e){case 1:return t<10?10:t<27?12:14;case 2:return t<10?9:t<27?11:13;case 4:return t<10?8:16;case 8:return t<10?8:t<27?10:12}return console.error("should not"),-100}function m(t,e,r){const n=h(t,r)-4-g(t,e);switch(e){case 1:return 3*(n/10|0)+(n%10<4?0:n%10<7?1:2);case 2:return 2*(n/11|0)+(n%11<6?0:1);case 4:return n/8|0;case 8:return n/13|0}return console.error("should not"),-100}function d(t,e){const r=t.slice(0),n=t.length,o=e.length;for(let t=0;t<o;t++)r.push(0);for(let t=0;t<n;){const n=i[r[t++]];if(n>=0)for(let l=0;l<o;l++)r[t+l]^=s[(n+e[l])%255]}return r.slice(n)}function p(t,e,r,n){let o=t<<n;for(let t=e-1;t>=0;--t)o>>n+t&1&&(o^=r<<t);return t<<n|o}function w(t,e,r){const n=a[r],o=t.length;for(let r=0;r<o;r++)for(let l=0;l<o;l++)e[r][l]||(t[r][l]^=n(r,l));return t}function b(t,e,r){const n=t.length,o=21522^p(e<<3|r,5,1335,10);for(let e=0;e<15;e++){const r=[n-1,n-2,n-3,n-4,n-5,n-6,n-7,n-8,7,5,4,3,2,1,0][e];t[[0,1,2,3,4,5,7,8,n-7,n-6,n-5,n-4,n-3,n-2,n-1][e]][8]=t[8][r]=o>>e&1}return t}function v(t){let e=0;for(let r=0;r<t.length;r++)t[r]>=5&&(e+=t[r]-5+3);for(let r=5;r<t.length;r+=2){const n=t[r];t[r-1]==n&&t[r-2]==3*n&&t[r-3]==n&&t[r-4]==n&&(t[r-5]>=4*n||t[r+1]>=4*n)&&(e+=40)}return e}function $(t){const e=t.length;let r=0,n=0;for(let o=0;o<e;o++){const l=t[o];let s;s=[0];for(let t=0;t<e;){let r=0;for(;t<e&&l[t];r++)t++;for(s.push(r),r=0;t<e&&!l[t];r++)t++;s.push(r)}r+=v(s),s=[0];for(let r=0;r<e;){let n=0;for(;r<e&&t[r][o];n++)r++;for(s.push(n),n=0;r<e&&!t[r][o];n++)r++;s.push(n)}r+=v(s);const i=t[o+1]||[];n+=l[0];for(let t=1;t<e;t++){const e=l[t];n+=e,l[t-1]==e&&i[t]===e&&i[t-1]===e&&(r+=3)}}return r+=10*(Math.abs(n/e/e-.5)/.05|0),r}function A(e,r,n,o,l){const s=t[r];let i=function(t,e,r,n){const o=[];let l=0,s=8;const i=r.length,c=function(t,e){if(e>=s){for(o.push(l|t>>(e-=s));e>=8;)o.push(t>>(e-=8)&255);l=0,s=8}e>0&&(l|=(t&(1<<e)-1)<<(s-=e))},a=g(t,e);switch(c(e,4),c(i,a),e){case 1:{let t=2;for(;t<i;t+=3)c(parseInt(r.substring(t-2,t+1),10),10);c(parseInt(r.substring(t-2),10),[0,4,7][i%3]);break}case 2:{let t=1;for(;t<i;t+=2)c(45*u[r.charAt(t-1)]+u[r.charAt(t)],11);i%2==1&&c(u[r.charAt(t-1)],6);break}case 4:{let t=0;for(;t<i;t++)c(r[t],8);break}}for(c(0,4),s<8&&o.push(l);o.length+1<n;)o.push(236,17);return o.length<n&&o.push(236),o}(r,n,e,h(r,o)>>3);i=function(t,e,r){const n=[],o=t.length/e|0;let l=0;const s=e-t.length%e;for(let t=0;t<s;t++)n.push(l),l+=o;for(let t=s;t<e;t++)n.push(l),l+=o+1;n.push(l);const i=[];for(let o=0;o<e;o++)i.push(d(t.slice(n[o],n[o+1]),r));const c=[],u=t.length/e|0;for(let r=0;r<u;r++)for(let o=0;o<e;o++)c.push(t[n[o]+r]);for(let r=s;r<e;r++)c.push(t[n[r+1]-1]);for(let t=0;t<r.length;t++)for(let r=0;r<e;r++)c.push(i[r][t]);return c}(i,s[1][o],c[s[0][o]]);const a=function(e){const r=t[e],n=(t=>4*t+17)(e),o=[],l=[];for(let t=0;t<n;t++)o.push([]),l.push([]);const s=function(t,e,r,n,s){for(let i=0;i<r;i++)for(let r=0;r<n;r++)o[t+i][e+r]=s[i]>>r&1,l[t+i][e+r]=1};s(0,0,9,9,[127,65,93,93,93,65,383,0,64]),s(n-8,0,8,9,[256,127,65,93,93,93,65,127]),s(0,n-8,9,8,[254,130,186,186,186,130,254,0,0]);for(let t=9;t<n-8;t++)o[6][t]=o[t][6]=1&~t,l[6][t]=l[t][6]=1;const i=r[2],c=i.length;for(let t=0;t<c;t++){const e=0==t?c-1:c;for(let r=0==t||t==c-1?1:0;r<e;r++)s(i[t],i[r],5,5,[31,17,21,17,31])}if(f(e)){const t=p(e,6,7973,12);let r=0;for(let e=0;e<6;e++)for(let s=0;s<3;s++)o[e][n-11+s]=o[n-11+s][e]=t>>r++&1,l[e][n-11+s]=l[n-11+s][e]=1}return{matrix:o,reserved:l}}(r),m=a.matrix,v=a.reserved;if(function(t,e,r){const n=t.length;let o=0,l=-1;for(let s=n-1;s>=0;s-=2){6==s&&s--;let i=l<0?n-1:0;for(let c=0;c<n;c++){for(let n=s;n>s-2;--n)e[i][n]||(t[i][n]=r[o>>3]>>(7&~o)&1,++o);i+=l}l=-l}}(m,v,i),l<0){w(m,v,0),b(m,o,0);let t=0,e=$(m);for(w(m,v,0),l=1;l<8;l++){w(m,v,l),b(m,o,l);const r=$(m);e>r&&(e=r,t=l),w(m,v,l)}l=t}return w(m,v,l),b(m,o,l),m}function S(t,s={}){let i=s.version??-1;const c=l[s.errorCorrectionLevel??"L"];let u=s.mode?e[s.mode]:-1;const a=s.mask??1;u<0&&(u="number"==typeof t||t.match(r)?1:t.match(o)?2:4);const f=function(t,e){switch(t){case 1:if("number"==typeof e)return e.toString();if(!e.match(r))return;return e;case 2:if(!e.match(n))return;return e.toUpperCase();case 4:{const t=[];for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<65536?t.push(224|n>>12,128|n>>6&63,128|63&n):t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n)}return t}}console.error("should not")}(u,t);if(void 0===f)throw"invalid data format";if(c<0||c>3)throw"invalid ECC level";if(i<0){for(i=1;i<=40&&!(f.length<=m(i,u,c));i++);if(i>40)throw"too large data"}else if(i<1||i>40)throw"invalid version";if(-1!=a&&(a<0||a>8))throw"invalid mask";return A(f,i,u,c,a)}function x(t,e={}){const r=S(t,e),n=e.size??5,o=e.margin??4,l=e.colors?.colorLight??"#ffffff",s=e.colors?.colorDark??"#000000",i=r.length,c=n*(i+2*o),u=['<svg xmlns="http://www.w3.org/2000/svg"',`width="${c}" height="${c}" ${e.alt?`alt="${e.alt}"`:""} ${e.ariaLabel?`aria-label="${e.ariaLabel}"`:""} ${e.title?`title="${e.title}"`:""}>`];u.push(`<rect width="${c}" height="${c}" fill="${l}" />`);for(let t=0;t<i;t++)for(let e=0;e<i;e++)r[t][e]&&u.push(`<rect x="${n*(o+e)}" y="${n*(o+t)}" width="${n+.3}" height="${n+.3}" fill="${s}" />`);return u.push("</svg>"),u.join("\n")}const L=new DOMParser;function U(t,e={}){const r=x(t,e),n=btoa(r);return{svg:L.parseFromString(r,"image/svg+xml").documentElement,dataUrl:`data:image/svg+xml;base64,${n}`}}function C(t,e={}){const{svg:r,dataUrl:n}=U(t,e);return new Promise(((t,o)=>{if(!e.image?.src)return t({svg:r,dataUrl:n});{const o=e.image.width??40,l=e.image.height??40,s=new Image(o,l);s.src=e.image.src,s.onload=()=>{const n=r.getAttribute("width"),o=r.getAttribute("height"),l=(parseInt(n)-s.width)/2,i=(parseInt(o)-s.height)/2,c=document.createElementNS("http://www.w3.org/2000/svg","image");c.setAttributeNS(null,"x",l.toString()),c.setAttributeNS(null,"y",i.toString()),c.setAttributeNS(null,"width",s.width.toString()),c.setAttributeNS(null,"height",s.height.toString()),c.setAttributeNS("http://www.w3.org/1999/xlink","href",e.image.src),r.appendChild(c),t({svg:r,dataUrl:`data:image/svg+xml;base64,${btoa((new XMLSerializer).serializeToString(r))}`})},s.onerror=()=>t({svg:r,dataUrl:n})}}))}const k=()=>document.createElement("canvas");function I(t,e={},r=k()){const n=S(t,e),o=e.size??5,l=e.margin??4,s=e.colors?.colorLight??"#ffffff",i=e.colors?.colorDark??"#000000",c=n.length,u=o*(c+2*l);r.width=r.height=u;const a=r.getContext("2d");if(!a)throw"canvas support is needed for PNG output";a.fillStyle=s,a.fillRect(0,0,u,u),a.fillStyle=i;for(let t=0;t<c;t++)for(let e=0;e<c;e++)n[t][e]&&a.fillRect(o*(l+e),o*(l+t),o,o);return r}const N=()=>document.createElement("img");function y(t,e={},r=k(),n=N()){const o=I(t,e,r).toDataURL();return n.setAttribute("src",o),n.setAttribute("alt",e.alt??""),n.setAttribute("aria-label",e.ariaLabel??""),n.setAttribute("title",e.title??""),{image:n,dataUrl:o}}function D(t,e={},r=k()){const n=(r=I(t,e,r)).getContext("2d");return new Promise((t=>{if(!e.image?.src)return t(r);{const o=e.image.width??40,l=e.image.height??40,s=new Image(o,l);s.src=e.image.src,s.onload=()=>{n.drawImage(s,r.width/2-o/2,r.height/2-l/2,o,l),t(r)},s.onerror=()=>t(r)}}))}async function E(t,e={},r=k(),n=N()){const o=(await D(t,e,r)).toDataURL();return n.setAttribute("src",o),n.setAttribute("alt",e.alt??""),n.setAttribute("aria-label",e.ariaLabel??""),n.setAttribute("title",e.title??""),{image:n,dataUrl:o}}export{I as generateQrCodeCanvas,D as generateQrCodeCanvas$,y as generateQrCodeImage,E as generateQrCodeImage$,S as generateQrCodeMatrix,U as generateQrCodeSVG,C as generateQrCodeSVG$,x as generateQrCodeSVGString};export default null;
//# sourceMappingURL=/sm/47349e7fbad3d6bc43223dfc4da27c7b2ef3bac81044c7dfb509da9bc87c20e9.map