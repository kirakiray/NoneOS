<template component>
  <l-m src="./os-bar.html"></l-m>
  <l-m src="./comps/app-frame/app-frame.html"></l-m>
  <link rel="stylesheet" href="./public.css" />
  <style>
    :host {
      display: block;
      width: 100%;
      height: 100%;
      background-image: url(../others/default-bg.jpg);
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .container {
      display: flex;
      /* flex-direction: column; */
      height: 100%;
    }

    .bar {
      display: flex;
    }
    .main {
      position: relative;
      flex: 1;
      /* background-color: red; */
    }
  </style>
  <div class="container">
    <div class="bar">
      <os-bar on:click-app="clickApp"></os-bar>
    </div>
    <div class="main">
      <n-app-frame>
        <div>asdasd</div>
      </n-app-frame>
    </div>
  </div>
  <script>
    import "/packages/pui/init.js";

    const barApps = [];

    export default async () => {
      return {
        tag: "none-os",
        data: {
          barApps: [],
        },
        proto: {
          clickApp({ data }) {
            console.log("click app: ", data);
          },
        },
        async attached() {
          $("body").push(
            `<style>html,body{margin:0;padding:0;height:100%;}</style>`
          );
        },
      };
    };
  </script>
</template>
