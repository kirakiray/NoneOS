<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NoneOS</title>
    <script src="public/ofa.js"></script>
    <script src="packages/o-desk/o-desk.js"></script>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        font: 400 1em/1.8 -apple-system, BlinkMacSystemFont, Segoe UI,
          Microsoft Yahei, Helvetica, Arial, sans-serif, Apple Color Emoji,
          Segoe UI Emoji;
        --pannel-bg-color: rgba(255, 255, 255, 0.5);
        --pannel-main-bg-color: #ffffff;
        --pannel-font-color: #000;
        --pannel-border-radius: 5px;
        --pannel-shadow: rgba(0, 0, 0, 0.1) 0 0 5px;
        background-image: linear-gradient(
          45deg,
          #3f51b1 0%,
          #5a55ae 13%,
          #7b5fac 25%,
          #8f6aae 38%,
          #a86aa4 50%,
          #cc6b8e 62%,
          #f18271 75%,
          #f3a469 87%,
          #f7c978 100%
        );
      }
    </style>
  </head>
  <body>
    <o-desk></o-desk>
    <script>
      if ("serviceWorker" in navigator) {
        const isFirefox = navigator.userAgent.includes("Firefox");

        navigator.serviceWorker
          .register(isFirefox ? "/sw-dist.js" : "sw.js", {
            type: isFirefox ? "" : "module", // oh no, firefox not work in module
            scope: "/",
          })
          .then((reg) => {
            setTimeout(() => {
              reg.update();
            }, 60 * 60 * 1000);
          })
          .catch((err) => {
            console.error(err);
          });
      }
    </script>
  </body>
</html>
